!function e(t,n,o){function r(s,c){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var a=n[s]={exports:{}};t[s][0].call(a.exports,function(e){var n=t[s][1][e];return r(n?n:e)},a,a.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t){t.exports=function(e){e.controller("AdminUserCtrl",function(e,t,n,o,r,i,s){e.logIn=function(t,n){void 0!==t&&void 0!==n?i.logIn(t,n).success(function(e){s.isAuthenticated=!0,r.sessionStorage.isAuthenticated=!0,r.sessionStorage.token=e.token,o.path("/home")}).error(function(e,t){console.log(e),console.log(t)}):(data={detail:["Complete the fields"]},e.isDisabled=!0,e.error=data)},e.logOut=function(){s.isAuthenticated&&(s.isAuthenticated=!1,delete r.sessionStorage.isAuthenticated,delete r.sessionStorage.token,o.path("/login"))},e.focusInput=function(){e.isDisabled=!1}}),e.controller("ProfileCtrl",function(e,t){e.user=[];var n=t({method:"get",url:"http://formatcom.alwaysdata.net/chanchito/api/token/user/"});n.success(function(t){e.user=t,console.log("success"),console.log(t)}),n.error(function(e){console.log("error"),console.log(e)})})}},{}],2:[function(e,t){t.exports=function(e){e.factory("AuthenticationService",function(){var e={isAuthenticated:!1};return e}),e.factory("UserService",function(e){return{logIn:function(t,n){return e({method:"post",url:"http://formatcom.alwaysdata.net/chanchito/api/token/",data:{username:t,password:n}})}}}),e.factory("TokenInterceptor",function(e,t,n,o){return{request:function(e){return e.headers=e.headers||{},t.sessionStorage.token&&(e.headers.Authorization="token "+t.sessionStorage.token),e},requestError:function(t){return e.reject(t)},response:function(n){return null!=n&&200==n.status&&t.sessionStorage.token&&!o.isAuthenticated&&(o.isAuthenticated=!0),n||e.when(n)},responseError:function(r){return null!=r&&401===r.status&&(t.sessionStorage.token||o.isAuthenticated)&&(delete t.sessionStorage.token,delete t.sessionStorage.isAuthenticated,o.isAuthenticated=!1,n.path("/")),e.reject(r)}}})}},{}],3:[function(e){var t=angular.module("chanchitoApp",["ngRoute"]);e("./factorys.js")(t),e("./controladores/adminctrluser.js")(t),e("./urls.js")(t)},{"./controladores/adminctrluser.js":1,"./factorys.js":2,"./urls.js":4}],4:[function(e,t){t.exports=function(e){e.config(function(e){e.interceptors.push("TokenInterceptor")}),e.config(function(e){e.when("/working",{templateUrl:"web/dist/templates/working.min.html",access:{requiredLogin:!1}}).when("/login",{templateUrl:"web/dist/templates/login.min.html",controller:"AdminUserCtrl",access:{requiredLogin:!1}}).when("/home",{templateUrl:"web/dist/templates/home.min.html",controller:"ProfileCtrl",access:{requiredLogin:!0}}).when("/logout/",{templateUrl:"web/dist/templates/logout.min.html",controller:"AdminUserCtrl",access:{requiredLogin:!0}}).otherwise({redirectTo:"/working"})}),e.run(function(e,t,n,o){o.isAuthenticated=n.sessionStorage.isAuthenticated,e.$on("$routeChangeStart",function(e,n){try{"/"==t.path()&&o.isAuthenticated&&t.path("/home/"),n.access.requiredLogin&&!o.isAuthenticated&&t.path("/")}catch(r){console.log("Redirect: #/")}})})}},{}]},{},[3]);